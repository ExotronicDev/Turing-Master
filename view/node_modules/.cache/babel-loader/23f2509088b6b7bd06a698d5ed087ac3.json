{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eduardo\\\\Documents\\\\Turing-Master\\\\view\\\\src\\\\components\\\\CourseStudents.js\";\nimport React, { Component } from \"react\";\nimport { axios, swal } from \"../dependencies\";\nimport NavBar from \"./NavBar/NavBar\";\nimport roleChecker from \"./Routes/roleChecker\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CourseStudents extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      students: [],\n      courseStudents: [],\n      loggedId: \"\"\n    };\n\n    this.componentDidMount = () => {\n      this.setLoggedId();\n      this.getStudents();\n      this.getCourseStudents();\n    };\n\n    this.getStudents = () => {\n      axios({\n        url: \"/api/students\",\n        method: \"GET\"\n      }).then(res => {\n        this.setState({\n          students: res.data.data\n        });\n      });\n    };\n\n    this.change = (student, index) => {\n      if (document.getElementById(index).checked) {\n        this.state.courseStudents.push(student);\n      }\n\n      if (!document.getElementById(index).checked) {\n        this.state.courseStudents.filter((thisStudent, index, object) => {\n          if (thisStudent.id === student.id) {\n            object.splice(index, 1);\n          }\n        });\n      }\n    };\n\n    this.displayStudents = students => {\n      if (students.length === 0) {\n        return /*#__PURE__*/_jsxDEV(\"th\", {\n          id: \"noStudents\",\n          scope: \"row\",\n          colspan: \"3\",\n          children: \"No students registered\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 5\n        }, this);\n      }\n\n      return students.map((student, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: student.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [student.firstName, \" \", student.lastName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            id: index,\n            type: \"checkbox\",\n            onChange: () => {\n              this.change(student, index);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 4\n      }, this));\n    };\n\n    this.save = () => {};\n  }\n\n  setLoggedId() {\n    const id = roleChecker.getLoggedId();\n    this.setState({\n      loggedId: id\n    });\n\n    if (this.state.loggedId === undefined) {\n      swal.fire({\n        title: \"Oops !\",\n        text: \"User does not have access to this page. Please login to access.\",\n        icon: \"error\",\n        background: \"black\",\n        color: \"white\"\n      }).then(() => {\n        window.location = \"/login\";\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"CourseStudents\",\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          id: \"title\",\n          children: \" Students \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"box\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            id: \"boxform\",\n            onSubmit: this.submit,\n            children: [/*#__PURE__*/_jsxDEV(\"table\", {\n              id: \"studentTable\",\n              class: \"table table-secondary\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Enrolled\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: this.displayStudents(this.state.students)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"save\",\n              type: \"submit\",\n              class: \"btn btn-primary\",\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default CourseStudents;","map":{"version":3,"names":["React","Component","axios","swal","NavBar","roleChecker","CourseStudents","state","students","courseStudents","loggedId","componentDidMount","setLoggedId","getStudents","getCourseStudents","url","method","then","res","setState","data","change","student","index","document","getElementById","checked","push","filter","thisStudent","object","id","splice","displayStudents","length","map","firstName","lastName","save","getLoggedId","undefined","fire","title","text","icon","background","color","window","location","render","submit"],"sources":["C:/Users/Eduardo/Documents/Turing-Master/view/src/components/CourseStudents.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { axios, swal } from \"../dependencies\";\r\nimport NavBar from \"./NavBar/NavBar\";\r\nimport roleChecker from \"./Routes/roleChecker\";\r\n\r\nclass CourseStudents extends Component {\r\n\tstate = {\r\n\t\tstudents: [],\r\n\t\tcourseStudents: [],\r\n\t\tloggedId: \"\",\r\n\t};\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setLoggedId();\r\n\t\tthis.getStudents();\r\n\t\tthis.getCourseStudents();\r\n\t};\r\n\r\n\tsetLoggedId() {\r\n\t\tconst id = roleChecker.getLoggedId();\r\n\t\tthis.setState({\r\n\t\t\tloggedId: id,\r\n\t\t});\r\n\t\tif (this.state.loggedId === undefined) {\r\n\t\t\tswal.fire({\r\n\t\t\t\ttitle: \"Oops !\",\r\n\t\t\t\ttext: \"User does not have access to this page. Please login to access.\",\r\n\t\t\t\ticon: \"error\",\r\n\t\t\t\tbackground: \"black\",\r\n\t\t\t\tcolor: \"white\",\r\n\t\t\t}).then(() => {\r\n\t\t\t\twindow.location = \"/login\";\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tgetStudents = () => {\r\n\t\taxios({\r\n\t\t\turl: \"/api/students\",\r\n\t\t\tmethod: \"GET\",\r\n\t\t}).then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tstudents: res.data.data,\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tchange = (student, index) => {\r\n\t\tif (document.getElementById(index).checked) {\r\n\t\t\tthis.state.courseStudents.push(student);\r\n\t\t}\r\n\r\n\t\tif (!document.getElementById(index).checked) {\r\n\t\t\tthis.state.courseStudents.filter((thisStudent, index, object) => {\r\n\t\t\t\tif (thisStudent.id === student.id) {\r\n\t\t\t\t\tobject.splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tdisplayStudents = (students) => {\r\n\t\tif (students.length === 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<th id=\"noStudents\" scope=\"row\" colspan=\"3\">\r\n\t\t\t\t\tNo students registered\r\n\t\t\t\t</th>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn students.map((student, index) => (\r\n\t\t\t<tr>\r\n\t\t\t\t<td>{student.id}</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t{student.firstName} {student.lastName}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid={index}\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\t\tthis.change(student, index);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t));\r\n\t};\r\n\r\n\tsave = () => {};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"CourseStudents\">\r\n\t\t\t\t<NavBar />\r\n\t\t\t\t<div id=\"container\">\r\n\t\t\t\t\t<h1 id=\"title\"> Students </h1>\r\n\t\t\t\t\t<div id=\"box\">\r\n\t\t\t\t\t\t<form id=\"boxform\" onSubmit={this.submit}>\r\n\t\t\t\t\t\t\t<table\r\n\t\t\t\t\t\t\t\tid=\"studentTable\"\r\n\t\t\t\t\t\t\t\tclass=\"table table-secondary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">ID</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">Enrolled</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{this.displayStudents(this.state.students)}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tid=\"save\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclass=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSave Changes\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default CourseStudents;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}