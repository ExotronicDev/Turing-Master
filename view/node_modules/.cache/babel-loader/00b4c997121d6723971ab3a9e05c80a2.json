{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eduardo\\\\Documents\\\\Turing-Master\\\\view\\\\src\\\\components\\\\CourseStudents.js\";\nimport React, { Component } from \"react\";\nimport { axios, swal } from \"../dependencies\";\nimport NavBar from \"./NavBar/NavBar\";\nimport roleChecker from \"./Routes/roleChecker\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CourseStudents extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      students: [],\n      studentsCourse: [],\n      loggedId: \"\"\n    };\n\n    this.componentDidMount = () => {\n      this.setLoggedId();\n      this.getStudents();\n    };\n\n    this.getStudents = () => {\n      axios({\n        url: \"/api/students\",\n        method: \"GET\"\n      }).then(res => {\n        this.setState({\n          students: res.data.data\n        });\n      });\n    };\n\n    this.change = (student, index) => {\n      console.log(document.getElementById(index));\n\n      if (document.getElementById(index).checked) {\n        this.state.studentsCourse.push(student);\n      }\n\n      if (!document.getElementById(index).checked) {\n        this.state.studentsCourse.filter((thisStudent, index, object) => {\n          if (thisStudent.id === student.id) {\n            object.splice(index, 1);\n          }\n        });\n        console.log(this.state.studentsCourse);\n      }\n    };\n\n    this.displayStudents = students => {\n      return students.map((student, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group row align-items-center justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-3 align-items-right justify-content-right\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            \"aria-current\": \"true\",\n            children: [student.id, \" - \", student.firstName, \" \", student.lastName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-1\",\n          id: \"edit\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"check1\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-1\",\n          id: \"check\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            id: index,\n            type: \"checkbox\",\n            onChange: () => {\n              this.change(student, index);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this));\n    };\n\n    this.save = () => {};\n  }\n\n  setLoggedId() {\n    const id = roleChecker.getLoggedId();\n    this.setState({\n      loggedId: id\n    });\n\n    if (this.state.loggedId === undefined) {\n      swal.fire({\n        title: \"Oops !\",\n        text: \"User does not have access to this page. Please login to access.\",\n        icon: \"error\",\n        background: \"black\",\n        color: \"white\"\n      }).then(() => {\n        window.location = \"/login\";\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"CourseStudents\",\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          id: \"title\",\n          children: \" Students \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group row align-items-end justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            id: \"boxform\",\n            onSubmit: this.save,\n            children: this.displayStudents(this.state.students)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default CourseStudents;","map":{"version":3,"names":["React","Component","axios","swal","NavBar","roleChecker","CourseStudents","state","students","studentsCourse","loggedId","componentDidMount","setLoggedId","getStudents","url","method","then","res","setState","data","change","student","index","console","log","document","getElementById","checked","push","filter","thisStudent","object","id","splice","displayStudents","map","firstName","lastName","save","getLoggedId","undefined","fire","title","text","icon","background","color","window","location","render"],"sources":["C:/Users/Eduardo/Documents/Turing-Master/view/src/components/CourseStudents.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { axios, swal } from \"../dependencies\";\r\nimport NavBar from \"./NavBar/NavBar\";\r\nimport roleChecker from \"./Routes/roleChecker\";\r\n\r\nclass CourseStudents extends Component {\r\n    state = {\r\n        students: [],\r\n        studentsCourse: [],\r\n        loggedId: \"\"\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.setLoggedId();\r\n        this.getStudents();\r\n    }\r\n\r\n    setLoggedId() {\r\n\t\tconst id = roleChecker.getLoggedId();\r\n\t\tthis.setState({\r\n\t\t\tloggedId: id,\r\n\t\t});\r\n\t\tif (this.state.loggedId === undefined) {\r\n\t\t\tswal.fire({\r\n\t\t\t\ttitle: \"Oops !\",\r\n\t\t\t\ttext: \"User does not have access to this page. Please login to access.\",\r\n\t\t\t\ticon: \"error\",\r\n\t\t\t\tbackground: \"black\",\r\n\t\t\t\tcolor: \"white\",\r\n\t\t\t}).then(() => {\r\n\t\t\t\twindow.location = \"/login\";\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n    getStudents = () => {\r\n        axios({\r\n            url: \"/api/students\",\r\n            method: \"GET\"\r\n        })\r\n        .then((res) => {\r\n            this.setState({\r\n                students: res.data.data\r\n            })\r\n        })\r\n    }\r\n\r\n    change = (student, index) => {\r\n        console.log(document.getElementById(index))\r\n\r\n        if (document.getElementById(index).checked) {\r\n\t\t\tthis.state.studentsCourse.push(student)\r\n\r\n\t\t}\r\n\r\n        if (!document.getElementById(index).checked) {\r\n            this.state.studentsCourse.filter((thisStudent, index, object) => {\r\n                if (thisStudent.id === student.id) {\r\n                    object.splice(index, 1);\r\n                }\r\n            });\r\n            console.log(this.state.studentsCourse)\r\n\t\t    }\r\n\r\n    }\r\n\r\n    displayStudents = (students) => {\r\n        return students.map((student, index) => (\r\n            <div class=\"form-group row align-items-center justify-content-center\">\r\n                <div class=\"col-3 align-items-right justify-content-right\">\r\n                    <label aria-current=\"true\" >\r\n                        \r\n                        {student.id} - {student.firstName} {student.lastName}\r\n                        \r\n                    </label>\r\n                </div>\r\n\r\n                <div class=\"col-1\" id=\"edit\">\r\n                    <label for=\"check1\">Add</label>\r\n                </div>\r\n                <div class=\"col-1\" id=\"check\">\r\n                    <input\r\n                        id={index}\r\n                        type=\"checkbox\"\r\n                        onChange={() => {this.change(student, index)}}\r\n                    ></input>\r\n                </div>\r\n            </div>\r\n\t\t));\r\n    }\r\n\r\n    save = () => {\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"CourseStudents\">\r\n\t\t\t\t<NavBar />\r\n                <div id=\"container\">\r\n                    <h1 id=\"title\"> Students </h1>\r\n                    <div class=\"form-group row align-items-end justify-content-end\">\r\n                        <form id=\"boxform\" onSubmit={this.save}>\r\n                        {\r\n                            this.displayStudents(\r\n                                this.state.students\r\n                            )\r\n                        }\r\n\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CourseStudents;"],"mappings":"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"},"metadata":{},"sourceType":"module"}